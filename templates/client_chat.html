<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guy Heart Photography - Virtual Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        body { font-family: 'Outfit', sans-serif; }
        .glass-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
        }
        .message-enter {
            animation: slideIn 0.3s ease-out forwards;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 h-screen flex flex-col overflow-hidden bg-[url('https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center">
    
    <!-- Light overlay to washout the background image -->
    <div class="absolute inset-0 bg-slate-50/90 pointer-events-none"></div>

    <!-- Header -->
    <header class="relative z-10 glass-panel border-b border-slate-200/50 p-4 flex justify-between items-center shadow-sm">
        <div class="flex items-center gap-3">
            <div class="bg-gradient-to-br from-blue-600 to-indigo-600 w-10 h-10 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20 text-white transform rotate-3">
                <i data-lucide="camera" class="w-5 h-5"></i>
            </div>
            <div>
                <h1 class="font-bold text-lg tracking-wide text-slate-800">Guy Heart Photography</h1>
                <div class="flex items-center gap-1.5">
                    <span class="relative flex h-2 w-2">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-2 w-2 bg-blue-500"></span>
                    </span>
                    <span class="text-xs text-slate-500 font-medium tracking-wide">AI Assistant Online</span>
                </div>
            </div>
        </div>
        <div class="flex items-center gap-2">
            <button onclick="clearChatHistory()" class="flex text-xs font-semibold bg-white/50 hover:bg-blue-50 text-slate-600 border border-slate-200 px-3 sm:px-4 py-2 rounded-full transition duration-300 items-center gap-2 shadow-sm" title="Clear chat history">
                <i data-lucide="trash-2" class="w-3 h-3"></i>
                <span class="hidden sm:inline">Clear Chat</span>
            </button>
            <a href="https://guy-heart-photography.vercel.app/" class="hidden sm:flex text-xs font-semibold bg-blue-600 hover:bg-blue-700 text-white border border-transparent px-4 py-2 rounded-full transition duration-300 items-center gap-2 shadow-md shadow-blue-500/20">
                Visit Website <i data-lucide="arrow-up-right" class="w-3 h-3"></i>
            </a>
        </div>
    </header>

    <!-- Chat Area -->
    <main id="chat-container" class="relative z-10 flex-1 overflow-y-auto p-4 md:p-6 space-y-6 scroll-smooth">
        
        <!-- Welcome Message -->
        <div class="flex flex-col items-center justify-center mt-10 mb-10 text-center space-y-4 animate-[fadeIn_0.5s_ease-out]">
            <div class="w-20 h-20 rounded-2xl bg-white border border-slate-100 flex items-center justify-center mb-2 shadow-xl shadow-blue-500/10 rotate-[-5deg] hover:rotate-0 transition-transform duration-500">
                <i data-lucide="sparkles" class="w-10 h-10 text-blue-500"></i>
            </div>
            <h2 class="text-3xl font-bold text-slate-800 tracking-tight">
                How can I capture your moment?
            </h2>
            <p class="text-slate-500 text-base max-w-md leading-relaxed">
                I can help you with package pricing, checking availability, or booking a consultation for your special day.
            </p>
        </div>

        <div id="messages-area" class="max-w-3xl mx-auto space-y-6 pb-4">
            <!-- Messages will be injected here -->
        </div>
        
    </main>

    <!-- Input Area -->
    <footer class="relative z-10 p-4 pb-6 md:pb-8">
        <div class="max-w-3xl mx-auto">
            <form onsubmit="handleSend(event)" class="relative group">
                <div class="absolute -inset-0.5 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-2xl opacity-20 group-hover:opacity-40 transition duration-500 blur"></div>
                
                <div class="relative flex items-center bg-white border border-slate-200 rounded-2xl shadow-xl shadow-blue-900/5 overflow-hidden focus-within:ring-2 focus-within:ring-blue-500/20 transition-all duration-300">
                    <input type="text" id="user-input" 
                        class="flex-1 bg-transparent px-5 py-4 text-slate-800 placeholder-slate-400 focus:outline-none text-base font-medium"
                        placeholder="Type a message..." autocomplete="off">
                    
                    <button type="submit" class="p-4 text-blue-600 hover:text-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 duration-200" id="send-btn">
                        <i data-lucide="send-horizontal" class="w-6 h-6"></i>
                    </button>
                </div>
            </form>
            <p class="text-center text-[10px] text-slate-400 mt-3 font-medium tracking-wider uppercase">
                AI can make mistakes. Please verify important details.
            </p>
        </div>
    </footer>

    <!-- Templates for JS -->
    <template id="template-user">
        <div class="flex justify-end message-enter">
            <div class="bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl rounded-br-sm px-5 py-3.5 max-w-[85%] md:max-w-[75%] shadow-lg shadow-blue-500/20 text-sm leading-relaxed font-medium">
                <!-- Content -->
            </div>
        </div>
    </template>

    <template id="template-ai">
        <div class="flex justify-start items-start gap-3 message-enter">
            <div class="w-8 h-8 rounded-full bg-white border border-slate-100 flex items-center justify-center shrink-0 mt-1 shadow-sm">
                <i data-lucide="sparkles" class="w-4 h-4 text-blue-500"></i>
            </div>
            <div class="bg-white border border-slate-100 text-slate-700 rounded-2xl rounded-bl-sm px-5 py-3.5 max-w-[90%] md:max-w-[80%] shadow-sm text-sm leading-relaxed prose prose-sm prose-slate prose-a:text-blue-600 hover:prose-a:text-blue-500">
                <!-- Content -->
            </div>
        </div>
    </template>
    
    <template id="template-loading">
        <div class="flex justify-start items-start gap-3 message-enter" id="loading-indicator">
            <div class="w-8 h-8 rounded-full bg-white border border-slate-100 flex items-center justify-center shrink-0 mt-1 shadow-sm">
                <i data-lucide="bot" class="w-4 h-4 text-slate-400"></i>
            </div>
            <div class="bg-white border border-slate-100 text-slate-400 rounded-2xl rounded-bl-sm px-4 py-3 flex items-center gap-1 shadow-sm">
                <div class="w-1.5 h-1.5 bg-blue-400 rounded-full typing-dot"></div>
                <div class="w-1.5 h-1.5 bg-blue-500 rounded-full typing-dot"></div>
                <div class="w-1.5 h-1.5 bg-blue-600 rounded-full typing-dot"></div>
            </div>
        </div>
    </template>

    <script src="/static/js/client_script.js"></script>
</body>
</html>
